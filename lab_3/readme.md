Лабораторная работа №3

`1.` Разработать программу memory-user.c, которая принимает на вход количество Mb памяти, которую она резервирует и в которой она размещает массив, а затем перебирает все его элементы в бесконечном цикле или заданное количество времени, которое также вводится по запросу. 

![alt text](https://github.com/chepurinaaa/OS-labs/blob/master/pic/3_1.png)

Функция malloc() возвращает адрес на первый байт области памяти размером size байт, кото­рая была выделена из кучи. Если памяти недостаточно, чтобы удовлетворить запрос, функция malloc() возвращает нулевой указатель. Очень важно всегда проверять возвращаемое значение на его равенство NULL, прежде чем пытаться использовать этот указатель. Попытка использования нулевого указателя обычно влечет крах системы. 

clock_t — арифметический тип для представления времени; clock() возвращает время, фиксируемое процессором от начала выполнения программы, или -1, если оно не известно. Для выражения этого времени в секундах применяется формула clock()/CLOCKS_PER_SEC.

![alt text](https://github.com/chepurinaaa/OS-labs/blob/master/pic/3_2.png)

`2.` Пока программа memory-user.c выполняется при различных объемах запрошенной памяти (включая значительные), из другого терминала выполнить запрос free(). Проанализировать результаты распределения памяти до и после завершения memory-user.c с помощью kill.

Команда free позволяет вызывать одноименную утилиту, осуществляющую вывод информации об использовании оперативной памяти. 

![alt text](https://github.com/chepurinaaa/OS-labs/blob/master/pic/3_3.png)

Видим, что до завершения выполнения программы, занятой памяти больше, чем после того, как процесс убили.(она вернулась к своему прежднему состоянию, как было до запуска программы)

`3.` Исследовать распределение памяти для memory-user.c с использованием pmap при различных объемах запрошенной памяти (включая значительные).

Команда -pmap детально расписывает использование оперативной памяти процессами в системе.

![alt text](https://github.com/chepurinaaa/OS-labs/blob/master/pic/3_4.png)

![alt text](https://github.com/chepurinaaa/OS-labs/blob/master/pic/3_5.png)

После того, как была выделена память, количество использованной памяти увеличивается на соответственное количество Мб.





